{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CreateRestaurantForm=_ref=>{let{creatorData}=_ref;let[typesOfCuisine,setTypesOfCuisine]=useState([]);let[restaurantName,setRestaurantName]=useState('');let[restaurantAddress,setRestaurantAddress]=useState('');let[restaurantCuisine,setRestaurantCuisine]=useState(null);useEffect(()=>{axios.get('http://127.0.0.1:8000/api/type-of-cuisine/').then(response=>{setTypesOfCuisine(response.data);});},[]);const submitRestaurantCreationForm=async e=>{e.preventDefault();const newRestaurantData={title:restaurantName,address:restaurantAddress,type_of_cuisine:restaurantCuisine,creator:creatorData===null||creatorData===void 0?void 0:creatorData.id};axios.post('http://127.0.0.1:8000/api/restaurants/',newRestaurantData,{headers:{'Content-Type':'application/json'},withCredentials:false}).then(response=>{window.location.reload();});};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitRestaurantCreationForm,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-0\",children:\"Restaurant Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:e=>setRestaurantName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-0\",children:\"Restaurant Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:e=>setRestaurantAddress(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-0\",children:\"Type Of Cuisine\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",onChange:e=>setRestaurantCuisine(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Choose type of cuisine\"}),typesOfCuisine.map((cuisineType,key)=>/*#__PURE__*/_jsx(\"option\",{value:cuisineType.id,children:cuisineType.name},key))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-control btn btn-success my-3\",children:\"Create Restaurant\"})]});};export default CreateRestaurantForm;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","CreateRestaurantForm","_ref","creatorData","typesOfCuisine","setTypesOfCuisine","restaurantName","setRestaurantName","restaurantAddress","setRestaurantAddress","restaurantCuisine","setRestaurantCuisine","get","then","response","data","submitRestaurantCreationForm","e","preventDefault","newRestaurantData","title","address","type_of_cuisine","creator","id","post","headers","withCredentials","window","location","reload","onSubmit","children","className","type","onChange","target","value","map","cuisineType","key","name"],"sources":["C:/Users/vovik/Desktop/restaurant-reviews-app/reviews/frontend/src/components/CreateRestaurantForm.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CreateRestaurantForm = ({creatorData}) => {\r\n\r\n    let [typesOfCuisine, setTypesOfCuisine] = useState([]);\r\n\r\n    let [restaurantName, setRestaurantName] = useState('');\r\n    let [restaurantAddress, setRestaurantAddress] = useState('');\r\n    let [restaurantCuisine, setRestaurantCuisine] = useState(null);\r\n\r\n    useEffect(() => {\r\n        axios.get('http://127.0.0.1:8000/api/type-of-cuisine/').then((response) => {\r\n            setTypesOfCuisine(response.data);\r\n        });\r\n    }, []);\r\n\r\n    const submitRestaurantCreationForm = async e => {\r\n        e.preventDefault();\r\n\r\n        const newRestaurantData = {\r\n            title: restaurantName,\r\n            address: restaurantAddress,\r\n            type_of_cuisine: restaurantCuisine,\r\n            creator: creatorData?.id\r\n        }\r\n\r\n        axios.post('http://127.0.0.1:8000/api/restaurants/', newRestaurantData, {headers: {'Content-Type': 'application/json'}, withCredentials: false}).then((response) => {\r\n            window.location.reload();\r\n        })\r\n    }\r\n\r\n  return (\r\n    <form onSubmit={submitRestaurantCreationForm}>\r\n        <div>\r\n            <p className='m-0 p-0'>Restaurant Name</p>\r\n            <input type='text' className='form-control' onChange={(e) => setRestaurantName(e.target.value)} />\r\n        </div>\r\n\r\n        <div>\r\n            <p className='m-0 p-0'>Restaurant Address</p>\r\n            <input type='text' className='form-control' onChange={(e) => setRestaurantAddress(e.target.value)} />\r\n        </div>\r\n\r\n        <div>\r\n            <p className='m-0 p-0'>Type Of Cuisine</p>\r\n            <select className='form-control' onChange={e => setRestaurantCuisine(e.target.value)}>\r\n                <option>Choose type of cuisine</option>\r\n                {typesOfCuisine.map((cuisineType, key) => (\r\n                    <option key={key} value={cuisineType.id}>{cuisineType.name}</option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n\r\n        <button type='submit' className='form-control btn btn-success my-3'>Create Restaurant</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CreateRestaurantForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}