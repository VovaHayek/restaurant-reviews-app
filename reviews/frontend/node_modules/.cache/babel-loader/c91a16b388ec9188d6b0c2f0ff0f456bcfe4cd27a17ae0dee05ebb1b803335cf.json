{"ast":null,"code":"import React,{useEffect}from'react';import axios from'axios';import{ReactComponent as Star}from'../assets/star.svg';import{ReactComponent as Trash}from'../assets/trash.svg';import{ReactComponent as Edit}from'../assets/edit.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RestaurantItem=_ref=>{let{restaurant,updateForm,showForm,account,deleteRestaurantButton}=_ref;let deleteRestaurant=()=>{axios.delete(\"http://127.0.0.1:8000/api/restaurants/\".concat(restaurant.title,\"/\"));deleteRestaurantButton(restaurant.title);};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-11 col-lg-5 col-xl-4 bg-dark m-2 p-4 rounded-2\",children:[(account===null||account===void 0?void 0:account.id)===restaurant.creator?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"me-2\",onClick:e=>{updateForm(restaurant);showForm(true);},children:/*#__PURE__*/_jsx(Edit,{})}),/*#__PURE__*/_jsx(\"a\",{className:\"ms-2\",onClick:e=>deleteRestaurant(),children:/*#__PURE__*/_jsx(Trash,{})})]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white mb-0 pb-0\",children:restaurant.title}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-white mb-0 pb-0\",children:[/*#__PURE__*/_jsx(Star,{}),\" \",restaurant.average_rating.evaluation__avg]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h5\",{className:\"text-white mt-0 pt-0\",children:[restaurant.address,\", \",restaurant.type_of_cuisine.name]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-0 text-white text-opacity-75\",children:\"Spent in total:\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"m-0 p-0 text-white\",children:[\"$\",restaurant.amount_spent.expence__sum]})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/restaurant/\".concat(restaurant.title),className:\"btn btn-primary\",children:\"Visit a restaurant\"})]})]});};export default RestaurantItem;","map":{"version":3,"names":["React","useEffect","axios","ReactComponent","Star","Trash","Edit","jsx","_jsx","jsxs","_jsxs","RestaurantItem","_ref","restaurant","updateForm","showForm","account","deleteRestaurantButton","deleteRestaurant","delete","concat","title","className","children","id","creator","onClick","e","average_rating","evaluation__avg","address","type_of_cuisine","name","amount_spent","expence__sum","href"],"sources":["C:/Users/vovik/Desktop/restaurant-reviews-app/reviews/frontend/src/components/RestaurantItem.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport axios from 'axios'\r\n\r\nimport { ReactComponent as Star } from '../assets/star.svg';\r\nimport { ReactComponent as Trash } from '../assets/trash.svg';\r\nimport { ReactComponent as Edit } from '../assets/edit.svg';\r\n\r\nconst RestaurantItem = ({restaurant, updateForm, showForm, account, deleteRestaurantButton}) => {\r\n\r\n    let deleteRestaurant = () => {\r\n        axios.delete(`http://127.0.0.1:8000/api/restaurants/${restaurant.title}/`);\r\n        deleteRestaurantButton(restaurant.title);\r\n    }\r\n\r\n  return (\r\n    <div className='col-11 col-lg-5 col-xl-4 bg-dark m-2 p-4 rounded-2'>\r\n        { account?.id === restaurant.creator ?\r\n        <div className='d-flex justify-content-end'>\r\n            <a className='me-2' onClick={(e) => {updateForm(restaurant); showForm(true)}}><Edit /></a>\r\n            <a className='ms-2' onClick={(e) => deleteRestaurant()}><Trash /></a>\r\n        </div> : null }\r\n\r\n        <div className='d-flex flex-row justify-content-between align-items-center'>\r\n            <h1 className='text-white mb-0 pb-0'>{restaurant.title}</h1>\r\n            <h2 className='text-white mb-0 pb-0'><Star /> {restaurant.average_rating.evaluation__avg}</h2>\r\n        </div>\r\n\r\n        <div>\r\n            <h5 className='text-white mt-0 pt-0'>{restaurant.address}, {restaurant.type_of_cuisine.name}</h5>\r\n        </div>\r\n\r\n        <div className='d-flex flex-row justify-content-between align-items-end'>\r\n            <div>\r\n                <p className='m-0 p-0 text-white text-opacity-75'>Spent in total:</p>\r\n                <h2 className='m-0 p-0 text-white'>${restaurant.amount_spent.expence__sum}</h2>\r\n            </div>\r\n\r\n            <a href={`/restaurant/${restaurant.title}`} className='btn btn-primary'>Visit a restaurant</a>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantItem"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,OAASC,cAAc,GAAI,CAAAC,IAAI,KAAQ,oBAAoB,CAC3D,OAASD,cAAc,GAAI,CAAAE,KAAK,KAAQ,qBAAqB,CAC7D,OAASF,cAAc,GAAI,CAAAG,IAAI,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAyE,IAAxE,CAACC,UAAU,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,sBAAsB,CAAC,CAAAL,IAAA,CAEvF,GAAI,CAAAM,gBAAgB,CAAGA,CAAA,GAAM,CACzBhB,KAAK,CAACiB,MAAM,0CAAAC,MAAA,CAA0CP,UAAU,CAACQ,KAAK,KAAG,CAAC,CAC1EJ,sBAAsB,CAACJ,UAAU,CAACQ,KAAK,CAAC,CAC5C,CAAC,CAEH,mBACEX,KAAA,QAAKY,SAAS,CAAC,oDAAoD,CAAAC,QAAA,EAC7D,CAAAP,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEQ,EAAE,IAAKX,UAAU,CAACY,OAAO,cACpCf,KAAA,QAAKY,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCf,IAAA,MAAGc,SAAS,CAAC,MAAM,CAACI,OAAO,CAAGC,CAAC,EAAK,CAACb,UAAU,CAACD,UAAU,CAAC,CAAEE,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAAQ,QAAA,cAACf,IAAA,CAACF,IAAI,GAAE,CAAC,CAAG,CAAC,cAC1FE,IAAA,MAAGc,SAAS,CAAC,MAAM,CAACI,OAAO,CAAGC,CAAC,EAAKT,gBAAgB,CAAC,CAAE,CAAAK,QAAA,cAACf,IAAA,CAACH,KAAK,GAAE,CAAC,CAAG,CAAC,EACpE,CAAC,CAAG,IAAI,cAEbK,KAAA,QAAKY,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACvEf,IAAA,OAAIc,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEV,UAAU,CAACQ,KAAK,CAAK,CAAC,cAC5DX,KAAA,OAAIY,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eAACf,IAAA,CAACJ,IAAI,GAAE,CAAC,IAAC,CAACS,UAAU,CAACe,cAAc,CAACC,eAAe,EAAK,CAAC,EAC7F,CAAC,cAENrB,IAAA,QAAAe,QAAA,cACIb,KAAA,OAAIY,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAEV,UAAU,CAACiB,OAAO,CAAC,IAAE,CAACjB,UAAU,CAACkB,eAAe,CAACC,IAAI,EAAK,CAAC,CAChG,CAAC,cAENtB,KAAA,QAAKY,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACpEb,KAAA,QAAAa,QAAA,eACIf,IAAA,MAAGc,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACrEb,KAAA,OAAIY,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,GAAC,CAACV,UAAU,CAACoB,YAAY,CAACC,YAAY,EAAK,CAAC,EAC9E,CAAC,cAEN1B,IAAA,MAAG2B,IAAI,gBAAAf,MAAA,CAAiBP,UAAU,CAACQ,KAAK,CAAG,CAACC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,oBAAkB,CAAG,CAAC,EAC7F,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}