{"ast":null,"code":"import React,{useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const Logout=()=>{useEffect(()=>{(async()=>{try{const{data}=await axios.post('http://127.0.0.1:8000/auth/logout/',{refresh_token:localStorage.getItem('refresh_token')},{headers:{'Content-Type':'application/json'},withCredentials:false});localStorage.clear();axios.defaults.headers.common['Authorization']=null;window.location.href='/authorization/';}catch(e){console.log('Logout is not working:(',e);}})();},[]);return/*#__PURE__*/_jsx(\"div\",{});};export default Logout;","map":{"version":3,"names":["React","useEffect","axios","jsx","_jsx","Logout","data","post","refresh_token","localStorage","getItem","headers","withCredentials","clear","defaults","common","window","location","href","e","console","log"],"sources":["C:/Users/vovik/Desktop/restaurant-reviews-app/reviews/frontend/src/components/Logout.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Logout = () => {\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.post('http://127.0.0.1:8000/auth/logout/',\r\n                        {refresh_token: localStorage.getItem('refresh_token')},\r\n                        {headers: {'Content-Type': 'application/json'}, withCredentials: false});\r\n                \r\n                localStorage.clear();\r\n                axios.defaults.headers.common['Authorization'] = null;\r\n                window.location.href = '/authorization/';\r\n            } catch (e) {\r\n                console.log('Logout is not working:(', e)\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n  return (\r\n    <div></div>\r\n  )\r\n}\r\n\r\nexport default Logout"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAEjBJ,SAAS,CAAC,IAAM,CACZ,CAAC,SAAY,CACT,GAAI,CACA,KAAM,CAACK,IAAI,CAAC,CAAG,KAAM,CAAAJ,KAAK,CAACK,IAAI,CAAC,oCAAoC,CAC5D,CAACC,aAAa,CAAEC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CACtD,CAACC,OAAO,CAAE,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAAEC,eAAe,CAAE,KAAK,CAAC,CAAC,CAEhFH,YAAY,CAACI,KAAK,CAAC,CAAC,CACpBX,KAAK,CAACY,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,CAAG,IAAI,CACrDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,iBAAiB,CAC5C,CAAE,MAAOC,CAAC,CAAE,CACRC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEF,CAAC,CAAC,CAC7C,CACJ,CAAC,EAAE,CAAC,CACR,CAAC,CAAE,EAAE,CAAC,CAER,mBACEf,IAAA,SAAU,CAAC,CAEf,CAAC,CAED,cAAe,CAAAC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}